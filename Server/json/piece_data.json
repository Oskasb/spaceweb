[{
  "id":"piece_data",
  "pieces":{
    "player_ship":{
      "controls":{
        "input": {
          "pointer":"InputSegmentRadial",
          "data":{
            "radialSegments":32,
            "distanceSegments":3,
            "radius":150,
            "width":20,
            "streamTimeout":0.2
          }
        },
        "actions": {
          "applySteering":0,
          "applyThrottle":0,
          "applyForward":0,
          "applyShields":0,
          "fireCannon":false
        },
        "constants":{
          "shieldEnergy":50,
          "radialSegments":32,
          "throttleSegments": 3,
          "velocityDrag":1.1,
          "radialDrag":0.45,
          "radialVelocityClamp":1.8,
          "radialLerpFactor":1,
          "throttleLimit": 0.2,
          "throttleAmplitude": 30
        }
      },
      "attachment_points":[
        {"id":"hull",   "transform":{"rot":[0, 0, 0], "pos":[0, 0.1, 0]}},
        {"id":"shield",   "transform":{"rot":[0, 0, 0], "pos":[0, 0.1, 0]}},
        {"id":"hyper_drive",  "transform":{  "rot":[0, 1, 0],"pos":[0, -0.6, 0 ]}},
        {"id":"shield",   "transform":{"rot":[0, 0, 0], "pos":[0, 0.1, 0]}},
        {"id":"lazer_cannon", "transform":{ "rot":[0, 0, 0],"pos":[2.2, -1.7, 1]}},
        {"id":"plasma_cannon","transform":{ "rot":[0, 0, 0],"pos":[-2.2, -1.7, 1]}},
        {"id":"engine",       "transform":{ "rot":[0, 1, 0],"pos":[0, 2.8, 0]}},
        {"id":"inputControls"},
        {"id":"nameplate"}
      ],
      "modules":[
        {
          "id":"hull",
          "data":{
            "source":"initiate",
            "initState": true,
            "applies":{
              "type":"string",
              "state":true,
              "action":"applyAppearance",
              "message":"Hull On",
              "transform":{
                "rot":[0, 0, 0],
                "pos":[0, 0.1, 0]
              },
              "game_effect":"s11_piece"
            }
          }
        },{
          "id":"shield",
          "data":{
            "initState": false,
            "applies":{
              "type":"toggle",
              "state":true,
              "control_constants":{
                "sthrottleAmplitude":-10,
                "radialDrag":-0.5,
                "radialLerpFactor":-0.05,
                "velocityDrag":0.5
              },
              "drain":2,
              "flicker":0.4,
              "effect_data":{
                "intensity":0.1,
                "strength":1.2,
                "lifeSpan":0.15
              },
              "transform":{
                "rot":[0, 3.14, 0],
                "pos":[0, -0.1, 3]
              },
              "animate":{
                "rotation":-15,
                "spread":6,
                "size":0.1,
                "oscillate":0.0,
                "speed":8,
                "diffusion":0.3
              },
              "game_effect":"ship_shield"
            }
          }
        },{
          "id":"hyper_drive",
          "data":{
            "initState":false,
            "applies":{
              "type":"toggle",
              "state":true,
              "control_constants":{
                "sthrottleAmplitude":190,
                "radialVelocityClamp":-0.14,
                "radialDrag":-1,
                "velocityDrag":-0.7
              },
              "drain":2,
              "flicker":0.4,
              "effect_data":{
                "intensity":0.3,
                "strength":332,
                "lifeSpan":0.15
              },
              "transform":{
                "rot":[0, 1, 0],
                "pos":[0, -0.6, 0 ]
              },
              "game_effect":"hyper_drive",
              "emit_effect":"hyper_space_sparks"
            }
          }
        }, {
          "id":"lazer_cannon",
          "data":{
            "initState": true,
            "applies":{
              "type":"string",
              "action":"fireCannon",
              "exitVelocity":95,
              "lifeTime":0.4,

              "transform":{
                "rot":[0, 0, 0],
                "pos":[2.2, -1.7, 1]
              },

              "game_effect":"cannon_plasma_module"
            }
          }
        },{
          "id":"plasma_cannon",
          "data":{

            "initState": true,
            "applies":{
              "type":"boolean",
              "action":"fireCannon",
              "exitVelocity":95,
              "lifeTime":0.4,

              "transform":{
                "rot":[0, 0, 0],
                "pos":[-2.2, -1.7, 1]
              },

              "game_effect":"cannon_plasma_module"
            }
          }
        },{
          "id":"engine",
          "data":{
            "source":"throttle",
            "initState": 0,
            "applies":{
              "type":"float",
              "state":true,
              "action":"applyForward",
              "state_factor":30,
              "emit_effect":"ship_engine",
              "effect_data":{
                "intensity":0.3,
                "strength":15,
                "lifeSpan":0.4
              },
              "transform":{
                "rot":[0, 1, 0],
                "pos":[0, 2.8, 0]
              },
              "threshold":0.2,
              "message":"wroom"
            }
          }
        },{
          "id":"inputControls",
          "data":{
            "source":"currentState",
            "initState": [0, 0],
            "applies":{
              "type":"array",
              "state":true,
              "action":"applyControl"
            }
          }
        },{
          "id":"nameplate",
          "data":{
            "source":"playerName",
            "initState":"noName",
            "applies":{
              "type":"string",
              "state":true,
              "action":"applyControl",
              "message":"Name On"
            }
          }
        }
      ]
    },
    "cannon_bullet":{
      "controls":{
        "actions": {
          "applyForward":1,
          "timeoutEvent": "EXPLODE"
        },
        "constants":{
          "velocityDrag":0,
          "radialDrag":1
        }
      },
      "attachment_points":[
        {"id":"bullet_shell",   "transform":{"rot":[0, 0, 0], "pos":[0, 0, 0]}}
      ],
      "modules":[
        {
          "id":"bullet_shell",
          "data":{
            "source":"initiate",
            "initState": true,
            "applies":{
              "type":"string",
              "state":true,
              "action":"applyAppearance",
              "style":"cannon_bullet",
              "message":"Load Bullet",
              "game_effect":"bullet_trail",
              "spawn_effect":"muzzle_flash_cannon",
              "remove_effect":"shell_detonate"
            }
          }
        }
      ]
    }
  }
}]